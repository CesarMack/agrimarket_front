<section class="min-h-[90vh] px-24">
  <div class="mt-14 pb-10 px-10 w-full h-1/6 bg-[#F6F6F6] rounded-[60px]">
    <img
      class="rounded-[60px] h-[350px] mx-auto relative z-0"
      src="../assets/farmer-store.jpeg"
    />
    <div class="w-full bg-white p-10 rounded">
      <div class="flex justify-end">
        <form
          [formGroup]="searchForm"
          (ngSubmit)="searchProduct()"
          class="w-6/12"
        >
          <div class="relative w-full">
            <input
              formControlName="search"
              class="appearance-none block w-full bg-grey-lighter text-grey-darker border border-grey-lighter rounded py-3 px-4"
              placeholder="Buscar producto..."
            />
            <div
              class="absolute inset-y-0 right-0 flex items-center pr-3 pointer-events-none"
            >
              <svg
                class="w-4 h-4 text-gray-500 dark:text-gray-400"
                aria-hidden="true"
                xmlns="http://www.w3.org/2000/svg"
                fill="none"
                viewBox="0 0 20 20"
              >
                <path
                  stroke="currentColor"
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="2"
                  d="m19 19-4-4m0-7A7 7 0 1 1 1 8a7 7 0 0 1 14 0Z"
                />
              </svg>
            </div>
          </div>
        </form>
      </div>

      <div class="mt-10 grid grid-cols-4 gap-10">
        <div *ngIf="loading" class="col-span-4">
          <p colspan="7" class="text-center h-60 text-3xl">Cargando...</p>
        </div>
        <button
          *ngFor="let data of catalog!.data"
          class="flex h-36 rounded shadow-lg"
          (click)="redirectToProductDetail(data.id)"
        >
          <img
            class="w-5/12 h-auto rounded"
            [src]="
              data.photos.length > 0
                ? data.photos[0].url
                : '../assets/vegetables.jpg'
            "
          />
          <div class="p-5 flex flex-col items-start justify-start">
            <p
              class="block uppercase tracking-wide text-grey-darker text-sm font-bold mt-2"
            >
              {{ data.product }}
            </p>
            <p
              class="mt-1 block uppercase tracking-wide text-grey-darker text-sm"
            >
              ${{ data.price }}
            </p>
            <p
              class="mt-1 block uppercase tracking-wide text-grey-darker text-sm"
            >
              Min. Venta:
            </p>
            <p
              class="mt-1 block uppercase tracking-wide text-grey-darker text-sm"
            >
              {{ data.minimum_sale + " " + data.measure }}
            </p>
          </div>
        </button>
      </div>
    </div>
  </div>
</section>
